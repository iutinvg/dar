<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0056)http://wiki.apache.org/couchdb/HTTP_database_API#Changes -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="robots" content="index,nofollow">

<title>HTTP_database_API - Couchdb Wiki</title>
<script type="text/javascript" src="./HTTP_database_API - Couchdb Wiki_files/common.js"></script><style type="text/css"></style>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="./HTTP_database_API - Couchdb Wiki_files/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="./HTTP_database_API - Couchdb Wiki_files/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="./HTTP_database_API - Couchdb Wiki_files/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="./HTTP_database_API - Couchdb Wiki_files/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/wiki/modernized/css/msie.css">
<![endif]-->


<link rel="alternate" title="Couchdb Wiki: HTTP_database_API" href="http://wiki.apache.org/couchdb/HTTP_database_API?diffs=1&show_att=1&action=rss_rc&unique=0&page=HTTP_database_API&ddiffs=1" type="application/rss+xml">


<link rel="Start" href="http://wiki.apache.org/couchdb/FrontPage">
<link rel="Alternate" title="Wiki Markup" href="http://wiki.apache.org/couchdb/HTTP_database_API?action=raw">
<link rel="Alternate" media="print" title="Print View" href="http://wiki.apache.org/couchdb/HTTP_database_API?action=print">
<link rel="Search" href="http://wiki.apache.org/couchdb/FindPage">
<link rel="Index" href="http://wiki.apache.org/couchdb/TitleIndex">
<link rel="Glossary" href="http://wiki.apache.org/couchdb/WordIndex">
<link rel="Help" href="http://wiki.apache.org/couchdb/HelpOnFormatting">
</head>

<body lang="en" dir="ltr">

<div id="header">

<form id="searchform" method="get" action="http://wiki.apache.org/couchdb/HTTP_database_API">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput" style="display: none;">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search" class="disabled">
<input id="titlesearch" name="titlesearch" type="submit" value="Titles" alt="Search Titles" disabled="">
<input id="fullsearch" name="fullsearch" type="submit" value="Text" alt="Search Full Text" disabled="">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<div id="logo"><a href="http://wiki.apache.org/couchdb/FrontPage">Couchdb Wiki</a></div>
<div id="username"><a href="http://wiki.apache.org/couchdb/HTTP_database_API?action=login" id="login" rel="nofollow">Login</a></div>
<h1 id="locationline">

<span id="pagelocation"><a class="backlink" href="http://wiki.apache.org/couchdb/HTTP_database_API?action=fullsearch&value=linkto%3A%22HTTP_database_API%22&context=180" rel="nofollow" title="Click to do a full-text search for this title">HTTP_database_API</a></span>
</h1>


<ul id="navibar">
<li class="wikilink"><a href="http://wiki.apache.org/couchdb/FrontPage">FrontPage</a></li><li class="wikilink"><a href="http://wiki.apache.org/couchdb/RecentChanges">RecentChanges</a></li><li class="wikilink"><a href="http://wiki.apache.org/couchdb/FindPage">FindPage</a></li><li class="wikilink"><a href="http://wiki.apache.org/couchdb/HelpContents">HelpContents</a></li><li class="current"><a href="http://wiki.apache.org/couchdb/HTTP_database_API">HTTP_database_API</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="http://wiki.apache.org/couchdb/HTTP_database_API?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="http://wiki.apache.org/couchdb/HTTP_database_API?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="http://wiki.apache.org/couchdb/HTTP_database_API">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">More Actions:</option><option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="RenamePage" disabled="" class="disabled">Rename Page</option>
<option value="CopyPage">Copy Page</option>
<option value="DeletePage" disabled="" class="disabled">Delete Page</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="MyPages">My Pages</option>
<option value="show" disabled="" class="disabled">Subscribe User</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Remove Spam</option>
<option value="show" disabled="" class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"></p><div dir="ltr" id="EditTheWiki.content" lang="en"><span class="anchor" id="EditTheWiki.top"></span>
<span class="anchor" id="EditTheWiki.line-1"></span><span class="anchor" id="EditTheWiki.line-2"></span><span class="anchor" id="EditTheWiki.line-3"></span><div><table><tbody><tr>  <td style="background-color: #efefef"><p class="line862">We have a <a class="https" href="https://cwiki.apache.org/confluence/display/COUCHDB/Apache+CouchDB+Wiki">new wiki</a>. The migration is not 100% complete. You can help out by moving pages across. This wiki will exist for as long as there are pages left.</p></td>
</tr>
</tbody></table></div><span class="anchor" id="EditTheWiki.line-4"></span><span class="anchor" id="EditTheWiki.line-5"></span><div><table><tbody><tr>  <td style="background-color: #efefef"><p class="line862">The official documentation has moved to <a class="http" href="http://docs.couchdb.org/">http://docs.couchdb.org</a> — The transition is not 100% complete, but <a class="http" href="http://docs.couchdb.org/">http://docs.couchdb.org</a> should be seen as having the latest info. In some cases, the wiki still has some more or older info on certain topics inside CouchDB.</p></td>
</tr>
</tbody></table></div><span class="anchor" id="EditTheWiki.line-6"></span><span class="anchor" id="EditTheWiki.line-7"></span><div><table><tbody><tr>  <td style="background-color: #efefef"><p class="line891"><small>You need to be added to the <a href="http://wiki.apache.org/couchdb/ContributorsGroup">ContributorsGroup</a> to edit the wiki. But don't worry! Just email any <a class="http" href="http://wiki.apache.org/couchdb/Mailing%20lists">Mailing List</a> or grab us on <a class="irc" href="irc://irc.freenode.net/couchdb">IRC</a> and let us know your user name.</small></p></td>
</tr>
</tbody></table></div><span class="anchor" id="EditTheWiki.line-8"></span><span class="anchor" id="EditTheWiki.bottom"></span></div> <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line867">
</p><h1 id="HTTP_Database_API">HTTP Database API</h1>
<span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line862">See also the <a class="http" href="http://docs.couchdb.org/en/latest/api/database.html">official documentation</a> for this topic. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span></p><p class="line867"></p><div class="table-of-contents"><p class="table-of-contents-heading">Contents</p><ol><li>
<a href="http://wiki.apache.org/couchdb/HTTP_database_API#HTTP_Database_API">HTTP Database API</a><ol><li>
<a href="http://wiki.apache.org/couchdb/HTTP_database_API#Naming_and_Addressing">Naming and Addressing</a></li><li>
<a href="http://wiki.apache.org/couchdb/HTTP_database_API#Working_with_Databases">Working with Databases</a><ol><li>
<a href="http://wiki.apache.org/couchdb/HTTP_database_API#List_Databases">List Databases</a></li><li>
<a href="http://wiki.apache.org/couchdb/HTTP_database_API#PUT_.28Create_New_Database.29">PUT (Create New Database)</a></li><li>
<a href="http://wiki.apache.org/couchdb/HTTP_database_API#DELETE">DELETE</a></li><li>
<a href="http://wiki.apache.org/couchdb/HTTP_database_API#Database_Information">Database Information</a></li><li>
<a href="http://wiki.apache.org/couchdb/HTTP_database_API#Accessing_Database-specific_options">Accessing Database-specific options</a></li><li>
<a href="./HTTP_database_API - Couchdb Wiki_files/HTTP_database_API - Couchdb Wiki.html">Changes</a></li></ol></li><li>
<a href="http://wiki.apache.org/couchdb/HTTP_database_API#Compaction">Compaction</a></li></ol></li></ol></div> <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line874">An introduction to the CouchDB HTTP Database API. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span></p><p class="line867">
</p><h2 id="Naming_and_Addressing">Naming and Addressing</h2>
<span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line862">A database must be named with all lowercase letters (a-z), digits (0-9), or any of the <em>_$()+-/</em> characters and must end with a slash in the URL. The name has to start with a lowercase letter (a-z). <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span></p><p class="line867"><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span></p><pre><span class="anchor" id="line-1"></span>http://couchserver/databasename/
<span class="anchor" id="line-2"></span>http://couchserver/another/databasename/
<span class="anchor" id="line-3"></span>http://couchserver/another/database_name(1)/</pre><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><p class="line867"><em>Uppercase characters are NOT ALLOWED in database names.</em> <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span></p><p class="line867"><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span></p><pre><span class="anchor" id="line-1-1"></span>http://couchserver/DBNAME/ (invalid)
<span class="anchor" id="line-2-1"></span>http://couchserver/DatabaseName/ (invalid)
<span class="anchor" id="line-3-1"></span>http://couchserver/databaseName/ (invalid)</pre><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><p class="line862">Note also that a <em>/</em> character in a DB name must be escaped when used in a URL; if your DB is named <em>his/her</em> then it will be available at <em><a class="http" href="http://localhost:5984/his%2Fher">http://localhost:5984/his%2Fher</a></em>. <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span></p><p class="line867"><em>Rationale for character restrictions</em> <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span></p><p class="line874">The limited set of characters for database names is driven by the need to satisfy the lowest common denominator for file system naming conventions. For example, disallowing uppercase characters makes compliance with case insensitive file systems straightforward. <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span></p><p class="line862">All database files are stored in a single directory on the file system. If your database includes a <em>/</em> CouchDB will create a sub-directory structure in the database directory. That is, a database named <em>his/her</em>, the database file will be available at <em>$dbdir/his/her.couch</em>. This is useful when you have a large number of databases and your file system does not like that. <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span></p><p class="line867">
</p><h2 id="Working_with_Databases">Working with Databases</h2>
<span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><p class="line867">
</p><h3 id="List_Databases">List Databases</h3>
<span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><p class="line862">To get a list of databases on a CouchDB server, use the <em>/_all_dbs</em> URI: <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span></p><p class="line867"><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span></p><pre><span class="anchor" id="line-1-2"></span>GET /_all_dbs HTTP/1.1
<span class="anchor" id="line-2-2"></span>Date: Thu, 17 Aug 2006 05:39:28 +0000GMT</pre><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><p class="line874">And the response: <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span></p><p class="line867"><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span></p><pre><span class="anchor" id="line-1-3"></span>HTTP/1.1 200 OK
<span class="anchor" id="line-2-3"></span>Date: Thu, 17 Aug 2006 05:39:28 +0000GMT
<span class="anchor" id="line-3-2"></span>Content-Length: 37
<span class="anchor" id="line-4"></span>Content-Type: application/json
<span class="anchor" id="line-5"></span>Connection: close
<span class="anchor" id="line-6"></span>
<span class="anchor" id="line-7"></span>["somedatabase", "anotherdatabase"]</pre><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><p class="line867">
</p><h3 id="PUT_.28Create_New_Database.29">PUT (Create New Database)</h3>
<span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><p class="line874">To create a new empty database, perform a PUT operation at the database URL. Currently the content of the actual PUT is ignored by the webserver. <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span></p><p class="line862">On success, HTTP status <em>201</em> is returned. If a database already exists a <em>412</em> error is returned. <span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span></p><p class="line867"><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span></p><pre><span class="anchor" id="line-1-4"></span>PUT /somedatabase/ HTTP/1.1
<span class="anchor" id="line-2-4"></span>Content-Length: 0
<span class="anchor" id="line-3-3"></span>Date: Thu, 17 Aug 2006 05:39:28 +0000GMT</pre><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><p class="line874">Here is the server's response: <span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span></p><p class="line867"><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span></p><pre><span class="anchor" id="line-1-5"></span>HTTP/1.1 201 Created
<span class="anchor" id="line-2-5"></span>Date: Thu, 17 Aug 2006 05:39:28 +0000GMT
<span class="anchor" id="line-3-4"></span>Content-Length: 13
<span class="anchor" id="line-4-1"></span>Content-Type: application/json
<span class="anchor" id="line-5-1"></span>Connection: close
<span class="anchor" id="line-6-1"></span>
<span class="anchor" id="line-7-1"></span>{"ok": true}</pre><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><p class="line867">
</p><h3 id="DELETE">DELETE</h3>
<span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><p class="line874">To delete a database, perform a DELETE operation at the database location. <span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span></p><p class="line862">On success, HTTP status <em>200</em> is returned. If the database doesn't exist, a <em>404</em> error is returned. <span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span></p><p class="line867"><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span></p><pre><span class="anchor" id="line-1-6"></span>DELETE /somedatabase/ HTTP/1.1
<span class="anchor" id="line-2-6"></span>Content-Length: 1
<span class="anchor" id="line-3-5"></span>Date: Thu, 17 Aug 2006 05:39:28 +0000GMT</pre><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><p class="line874">Here is the server's response: <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span></p><p class="line867"><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span></p><pre><span class="anchor" id="line-1-7"></span>HTTP/1.1 200 OK
<span class="anchor" id="line-2-7"></span>Date: Thu, 17 Aug 2006 05:39:28 +0000GMT
<span class="anchor" id="line-3-6"></span>Content-Length: 67
<span class="anchor" id="line-4-2"></span>Content-Type: application/json
<span class="anchor" id="line-5-2"></span>Connection: close
<span class="anchor" id="line-6-2"></span>
<span class="anchor" id="line-7-2"></span>{"ok": true}</pre><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><p class="line867">
</p><h3 id="Database_Information">Database Information</h3>
<span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><p class="line874">To get information about a particular database, perform a GET operation on the database, e.g.: <span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span></p><p class="line867"><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span></p><pre><span class="anchor" id="line-1-8"></span>GET /somedatabase/ HTTP/1.1</pre><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><p class="line874">The server's response is a JSON object similar to the following: <span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span></p><p class="line867"><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-1-1"></span></p><div class="highlight javascript"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-a10cdb39abf1b955e57436473facf36dbf210e40\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.apache.org/couchdb/HTTP_database_API#" onclick="return togglenumber(&#39;CA-a10cdb39abf1b955e57436473facf36dbf210e40&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_1">   1</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_1"></span><span class="anchor" id="line-1-2"></span>{</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_2">   2</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_2"></span><span class="anchor" id="line-2-1"></span>    <span class="String">"compact_running"</span>: <span class="ConsWord">false</span>, </span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_3">   3</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_3"></span><span class="anchor" id="line-3-1"></span>    <span class="String">"db_name"</span>: <span class="String">"dj"</span>, </span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_4">   4</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_4"></span><span class="anchor" id="line-4-1"></span>    <span class="String">"disk_format_version"</span>: <span class="Number">5</span>, </span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_5">   5</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_5"></span><span class="anchor" id="line-5-1"></span>    <span class="String">"disk_size"</span>: <span class="Number">12377</span>, </span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_6">   6</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_6"></span><span class="anchor" id="line-6-1"></span>    <span class="String">"doc_count"</span>: <span class="Number">1</span>, </span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_7">   7</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_7"></span><span class="anchor" id="line-7-1"></span>    <span class="String">"doc_del_count"</span>: <span class="Number">1</span>, </span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_8">   8</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_8"></span><span class="anchor" id="line-8-1"></span>    <span class="String">"instance_start_time"</span>: <span class="String">"1267612389906234"</span>, </span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_9">   9</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_9"></span><span class="anchor" id="line-9-1"></span>    <span class="String">"purge_seq"</span>: <span class="Number">0</span>, </span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_10">  10</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_10"></span><span class="anchor" id="line-10-1"></span>    <span class="String">"update_seq"</span>: <span class="Number">4</span></span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-a10cdb39abf1b955e57436473facf36dbf210e40_11">  11</a> </span><span class="LineAnchor" id="CA-a10cdb39abf1b955e57436473facf36dbf210e40_11"></span><span class="anchor" id="line-11-1"></span>}</span>
</pre></div></div><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><p class="line867">
</p><h4 id="Meaning_of_Result_Hash">Meaning of Result Hash</h4>
<span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><div><table><tbody><tr>  <td><p class="line891"><strong>Key</strong></p></td>
  <td><p class="line891"><strong>Description</strong></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-135"></span><p class="line891"><em>db_name</em></p></td>
  <td><p class="line862">Name of the database (string)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-136"></span><p class="line891"><em>doc_count</em></p></td>
  <td><p class="line862">Number of documents (including design documents) in the database (int)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-137"></span><p class="line891"><em>update_seq</em></p></td>
  <td><p class="line862">Current number of updates to the database (int)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-138"></span><p class="line891"><em>purge_seq</em></p></td>
  <td><p class="line862">Number of purge operations (int)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-139"></span><p class="line891"><em>compact_running</em></p></td>
  <td><p class="line862">Indicates, if a compaction is running (boolean)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-140"></span><p class="line891"><em>disk_size</em></p></td>
  <td><p class="line862">Current size in Bytes of the database (<strong>Note</strong>: Size of views indexes on disk are not included)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-141"></span><p class="line891"><em>instance_start_time</em></p></td>
  <td><p class="line862"> The time at which the database was opened (in μs) </p></td>
</tr>
<tr>  <td><span class="anchor" id="line-142"></span><p class="line891"><em>disk_format_version</em></p></td>
  <td><p class="line862"> Current version of the internal database format on disk (int)</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><p class="line867">
</p><h3 id="Accessing_Database-specific_options">Accessing Database-specific options</h3>
<span class="anchor" id="line-145"></span><p class="line862">Currently there is only one database specific option you can set via a PUT request. <em>_revs_limit</em> defines a upper bound of document revisions which CouchDB keeps track of, even after <a href="http://wiki.apache.org/couchdb/Compaction">Compaction</a>. The default is set to 1000 on CouchDB 0.11. <span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span></p><p class="line862">Set <em>_revs_limit</em> of a particular database: <span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span></p><pre><span class="anchor" id="line-1-9"></span>curl -X PUT -d "1500" http://localhost:5984/test/_revs_limit
<span class="anchor" id="line-2-8"></span>#=&gt; {"ok":true}</pre><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><p class="line862">Note: <em>_revs_limits</em> must be a positive integer. CouchDB 1.1 will accept character string without warning or error, but will fail on updates (and cause other issues due to <a class="nonexistent" href="http://wiki.apache.org/couchdb/MochiWeb">MochiWeb</a> having crashed) if the value is not proper. <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span></p><p class="line862">Read <em>_revs_limit</em> of a particular database: <span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span></p><pre><span class="anchor" id="line-1-10"></span>curl -X GET http://localhost:5984/test/_revs_limit
<span class="anchor" id="line-2-9"></span>#=&gt; 1500</pre><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><p class="line867">
</p><h3 id="Changes">Changes</h3>
<span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><p class="line862">A list of changes made to documents in the database, in the order they were made, can be obtained from the database's <em>_changes</em> resource. You can query the <em>_changes</em> resource by issuing a GET-Request with the following (optional) parameters: <span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span></p><div><table><tbody><tr>  <td><p class="line891"><strong>Parameter</strong></p></td>
  <td><p class="line891"><strong>Value</strong></p></td>
  <td><p class="line891"><strong>Default value</strong></p></td>
  <td><p class="line891"><strong>Description</strong></p></td>
</tr>
<tr>  <td><span class="anchor" id="line-166"></span><p class="line891"><em>since</em></p></td>
  <td><p class="line862">seqnum</p></td>
  <td><p class="line891"><em>0</em></p></td>
  <td><p class="line862">Start the results from the change immediately after the given sequence number.</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-167"></span><p class="line891"><em>limit</em></p></td>
  <td><p class="line862">maxsequences</p></td>
  <td><p class="line891"><em>none</em></p></td>
  <td><p class="line862">Limit number of result rows to the specified value (note that using <em>0</em> here has the same effect as <em>1</em>: get a single result row).</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-168"></span><p class="line891"><em>descending</em></p></td>
  <td><p class="line862">boolean</p></td>
  <td><p class="line891"><em>false</em></p></td>
  <td><p class="line862">Return the change results in descending sequence order (most recent change first)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-169"></span><p class="line891"><em>feed</em></p></td>
  <td><p class="line862">normal | longpoll | continuous</p></td>
  <td><p class="line891"><em>normal</em></p></td>
  <td><p class="line862">Select the type of feed.</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-170"></span><p class="line891"><em>heartbeat</em></p></td>
  <td><p class="line862">milliseconds</p></td>
  <td><p class="line891"><em>60000</em></p></td>
  <td><p class="line862">Period in milliseconds after which an empty line is sent in the results. Only applicable for <em>longpoll</em> or <em>continuous</em> feeds. Overrides any <em>timeout</em> to keep the feed alive indefinitely.</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-171"></span><p class="line891"><em>timeout</em></p></td>
  <td><p class="line862">milliseconds</p></td>
  <td><p class="line891"><em>60000</em></p></td>
  <td><p class="line862">Maximum period in milliseconds to wait for a change before the response is sent, even if there are no results. Only applicable for <em>longpoll</em> or <em>continuous</em> feeds. <strong>Note</strong> that 60000 is also the default maximum timeout to prevent undetected dead connections.*</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-172"></span><p class="line891"><em>filter</em></p></td>
  <td><p class="line862">designdoc/filtername</p></td>
  <td><p class="line891"><em>none</em></p></td>
  <td><p class="line862">Reference a filter function from a design document to selectively get updates. See the <a class="http" href="http://books.couchdb.org/relax/reference/change-notifications">section in the book</a> for more information.</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-173"></span><p class="line891"><em>include_docs</em></p></td>
  <td><p class="line862">boolean</p></td>
  <td><p class="line891"><em>false</em></p></td>
  <td><p class="line862">Include the associated document with each result. If there are conflicts, only the winning revision is returned. (New in version 0.11)</p></td>
</tr>
<tr>  <td><span class="anchor" id="line-174"></span><p class="line891"><em>style</em></p></td>
  <td><p class="line862"> all_docs | main_only </p></td>
  <td><p class="line891"><em>main_only</em></p></td>
  <td><p class="line862">Specifies how many revisions are returned in the changes array. The default, <em>main_only</em>, will only return the current "winning" revision; <em>all_docs</em> will return all leaf revisions (including conflicts and deleted former conflicts.)</p></td>
</tr>
</tbody></table></div><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><p class="line874">* You can change the default maximum timeout in your ini-configuration: <span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span></p><pre><span class="anchor" id="line-1-11"></span>[httpd]
<span class="anchor" id="line-2-10"></span>changes_timeout=#millisecs</pre><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><p class="line874">By default all changes are immediately returned as a JSON object: <span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span></p><p class="line867"><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span></p><pre><span class="anchor" id="line-1-12"></span>GET /somedatabase/_changes HTTP/1.1</pre><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><p class="line867"><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-1-3"></span></p><div class="highlight javascript"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-526a2b972acb56c1200ee356dd03c816b0ff26c5\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.apache.org/couchdb/HTTP_database_API#" onclick="return togglenumber(&#39;CA-526a2b972acb56c1200ee356dd03c816b0ff26c5&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-526a2b972acb56c1200ee356dd03c816b0ff26c5" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_1">   1</a> </span><span class="LineAnchor" id="CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_1"></span><span class="anchor" id="line-1-4"></span>{<span class="String">"results"</span>:[</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_2">   2</a> </span><span class="LineAnchor" id="CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_2"></span><span class="anchor" id="line-2-2"></span>{<span class="String">"seq"</span>:<span class="Number">1</span>,<span class="String">"id"</span>:<span class="String">"fresh"</span>,<span class="String">"changes"</span>:[{<span class="String">"rev"</span>:<span class="String">"1-967a00dff5e02add41819138abb3284d"</span>}]},</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_3">   3</a> </span><span class="LineAnchor" id="CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_3"></span><span class="anchor" id="line-3-2"></span>{<span class="String">"seq"</span>:<span class="Number">3</span>,<span class="String">"id"</span>:<span class="String">"updated"</span>,<span class="String">"changes"</span>:[{<span class="String">"rev"</span>:<span class="String">"2-7051cbe5c8faecd085a3fa619e6e6337"</span>}]},</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_4">   4</a> </span><span class="LineAnchor" id="CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_4"></span><span class="anchor" id="line-4-2"></span>{<span class="String">"seq"</span>:<span class="Number">5</span>,<span class="String">"id"</span>:<span class="String">"deleted"</span>,<span class="String">"changes"</span>:[{<span class="String">"rev"</span>:<span class="String">"2-eec205a9d413992850a6e32678485900"</span>}],<span class="String">"deleted"</span>:<span class="ConsWord">true</span>}</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_5">   5</a> </span><span class="LineAnchor" id="CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_5"></span><span class="anchor" id="line-5-2"></span>],</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_6">   6</a> </span><span class="LineAnchor" id="CA-526a2b972acb56c1200ee356dd03c816b0ff26c5_6"></span><span class="anchor" id="line-6-2"></span><span class="String">"last_seq"</span>:<span class="Number">5</span>}</span>
</pre></div></div><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><p class="line867"><em>results</em> is the list of changes in sequential order. New and changed documents only differ in the value of the rev; deleted documents include the <em>"deleted": true</em> attribute. (In the <em>style=all_docs</em> mode, <em>deleted</em> applies only to the current/winning revision. The other revisions listed might be deleted even if there is no <em>deleted</em> property; you have to GET them individually to make sure.) <span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span></p><p class="line867"><em>last_seq</em> is the sequence number of the last update returned. (Currently it will always be the same as the <em>seq</em> of the last item in <em>results</em>.) <span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span></p><p class="line862">Sending a <em>since</em> param in the query string skips all changes up to and including the given sequence number: <span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span></p><p class="line867"><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span></p><pre><span class="anchor" id="line-1-13"></span>GET /somedatabase/_changes?since=3 HTTP/1.1</pre><span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><p class="line867"><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-1-5"></span></p><div class="highlight javascript"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-69c1e8896dd240acc17a71e04134e11936f28174\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.apache.org/couchdb/HTTP_database_API#" onclick="return togglenumber(&#39;CA-69c1e8896dd240acc17a71e04134e11936f28174&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-69c1e8896dd240acc17a71e04134e11936f28174" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-69c1e8896dd240acc17a71e04134e11936f28174_1">   1</a> </span><span class="LineAnchor" id="CA-69c1e8896dd240acc17a71e04134e11936f28174_1"></span><span class="anchor" id="line-1-6"></span>{<span class="String">"results"</span>:[</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-69c1e8896dd240acc17a71e04134e11936f28174_2">   2</a> </span><span class="LineAnchor" id="CA-69c1e8896dd240acc17a71e04134e11936f28174_2"></span><span class="anchor" id="line-2-3"></span>{<span class="String">"seq"</span>:<span class="Number">5</span>,<span class="String">"id"</span>:<span class="String">"deleted"</span>,<span class="String">"changes"</span>:[{<span class="String">"rev"</span>:<span class="String">"2-eec205a9d413992850a6e32678485900"</span>}],<span class="String">"deleted"</span>:<span class="ConsWord">true</span>}</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-69c1e8896dd240acc17a71e04134e11936f28174_3">   3</a> </span><span class="LineAnchor" id="CA-69c1e8896dd240acc17a71e04134e11936f28174_3"></span><span class="anchor" id="line-3-3"></span>],</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-69c1e8896dd240acc17a71e04134e11936f28174_4">   4</a> </span><span class="LineAnchor" id="CA-69c1e8896dd240acc17a71e04134e11936f28174_4"></span><span class="anchor" id="line-4-3"></span><span class="String">"last_seq"</span>:<span class="Number">5</span>}</span>
</pre></div></div><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><p class="line867">
</p><h4 id="Long-Polling_.28Efficient_Polling.29_Feed">Long-Polling (Efficient Polling) Feed</h4>
<span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><p class="line862">The <em>longpoll</em> feed (probably most useful used from a browser) is a more efficient form of polling that waits for a change to occur before the response is sent. <em>longpoll</em> avoids the need to frequently poll CouchDB to discover nothing has changed! <span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span></p><p class="line862">The response is basically the same JSON as is sent for the <em>normal</em> feed. <span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span></p><p class="line862">A <em>timeout</em> limits the maximum length of time the connection is open. If there are no changes before the timeout expires the response's <em>results</em> will be an empty list. <span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span></p><p class="line867">
</p><h4 id="Continuous_.28Non-Polling.29_Feed">Continuous (Non-Polling) Feed</h4>
<span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><p class="line874">Polling the CouchDB server is not a good thing to do. Setting up new HTTP connections just to tell the client that nothing's happened puts unnecessary strain on CouchDB. <span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span></p><p class="line862">A <em>continuous</em> feed stays open and connected to the database until explicitly closed and changes are sent to the client as they happen, i.e. in near real-time. <span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span></p><p class="line862">The <em>continuous</em> feed's response is a little different than the other feed types to simplify the job of the client - each line of the response is either empty or a JSON object representing a single change, as found in the normal feed's <em>results</em>. <span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span></p><p class="line867"><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span></p><pre><span class="anchor" id="line-1-14"></span>GET /somedatabase/_changes?feed=continuous HTTP/1.1</pre><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><p class="line867"><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-1-7"></span></p><div class="highlight javascript"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-36adee8808a0675da695b1581ef7060e82cf387f\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script><a href="http://wiki.apache.org/couchdb/HTTP_database_API#" onclick="return togglenumber(&#39;CA-36adee8808a0675da695b1581ef7060e82cf387f&#39;, 1, 1);" class="codenumbers">Toggle line numbers</a>
<pre dir="ltr" id="CA-36adee8808a0675da695b1581ef7060e82cf387f" lang="en"><span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-36adee8808a0675da695b1581ef7060e82cf387f_1">   1</a> </span><span class="LineAnchor" id="CA-36adee8808a0675da695b1581ef7060e82cf387f_1"></span><span class="anchor" id="line-1-8"></span>{<span class="String">"seq"</span>:<span class="Number">1</span>,<span class="String">"id"</span>:<span class="String">"fresh"</span>,<span class="String">"changes"</span>:[{<span class="String">"rev"</span>:<span class="String">"1-967a00dff5e02add41819138abb3284d"</span>}]}</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-36adee8808a0675da695b1581ef7060e82cf387f_2">   2</a> </span><span class="LineAnchor" id="CA-36adee8808a0675da695b1581ef7060e82cf387f_2"></span><span class="anchor" id="line-2-4"></span>{<span class="String">"seq"</span>:<span class="Number">3</span>,<span class="String">"id"</span>:<span class="String">"updated"</span>,<span class="String">"changes"</span>:[{<span class="String">"rev"</span>:<span class="String">"2-7051cbe5c8faecd085a3fa619e6e6337"</span>}]}</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-36adee8808a0675da695b1581ef7060e82cf387f_3">   3</a> </span><span class="LineAnchor" id="CA-36adee8808a0675da695b1581ef7060e82cf387f_3"></span><span class="anchor" id="line-3-4"></span>{<span class="String">"seq"</span>:<span class="Number">5</span>,<span class="String">"id"</span>:<span class="String">"deleted"</span>,<span class="String">"changes"</span>:[{<span class="String">"rev"</span>:<span class="String">"2-eec205a9d413992850a6e32678485900"</span>}],<span class="String">"deleted"</span>:<span class="ConsWord">true</span>}</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-36adee8808a0675da695b1581ef7060e82cf387f_4">   4</a> </span><span class="LineAnchor" id="CA-36adee8808a0675da695b1581ef7060e82cf387f_4"></span><span class="anchor" id="line-4-4"></span>... <span class="ID">tum</span> <span class="ID">tee</span> <span class="ID">tum</span> ...</span>
<span class="line"><span class="LineNumber"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#CA-36adee8808a0675da695b1581ef7060e82cf387f_5">   5</a> </span><span class="LineAnchor" id="CA-36adee8808a0675da695b1581ef7060e82cf387f_5"></span><span class="anchor" id="line-5-3"></span>{<span class="String">"seq"</span>:<span class="Number">6</span>,<span class="String">"id"</span>:<span class="String">"updated"</span>,<span class="String">"changes"</span>:[{<span class="String">"rev"</span>:<span class="String">"3-825cb35de44c433bfb2df415563a19de"</span>}]}</span>
</pre></div></div><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><p class="line862">Obviously, "... tum tee tum ..." does not appear in the actual response but represents a long pause before the change with <em>seq</em> 6 occurred. <span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span></p><p class="line867">
</p><h2 id="Compaction">Compaction</h2>
<span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><p class="line862">Databases may be compacted to reduce their disk usage.  For more details, see <a href="http://wiki.apache.org/couchdb/Compaction">Compaction</a>. <span class="anchor" id="line-247"></span><span class="anchor" id="bottom"></span></p></div><p id="pageinfo" class="info" lang="en" dir="ltr">HTTP_database_API  (last edited 2013-07-04 02:42:11 by <span title="kxepal @ 178.79.139.127[178.79.139.127]"><a class="nonexistent" href="http://wiki.apache.org/couchdb/kxepal" title="kxepal @ 178.79.139.127[178.79.139.127]">kxepal</a></span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li><span class="disabled">Immutable Page</span></li><li class="toggleCommentsButton" style="display:none;"><a href="http://wiki.apache.org/couchdb/HTTP_database_API#" class="nbcomment" onclick="toggleComments();return false;">Comments</a></li><li><a class="nbinfo" href="http://wiki.apache.org/couchdb/HTTP_database_API?action=info" rel="nofollow">Info</a></li><li><a class="nbattachments" href="http://wiki.apache.org/couchdb/HTTP_database_API?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="http://wiki.apache.org/couchdb/HTTP_database_API">
<div>
    
    <select name="action" onchange="if ((this.selectedIndex != 0) &amp;&amp;
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show">More Actions:</option><option value="raw">Raw Text</option>
<option value="print">Print View</option>
<option value="RenderAsDocbook">Render as Docbook</option>
<option value="refresh">Delete Cache</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="SpellCheck">Check Spelling</option>
<option value="LikePages">Like Pages</option>
<option value="LocalSiteMap">Local Site Map</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="RenamePage" disabled="" class="disabled">Rename Page</option>
<option value="CopyPage">Copy Page</option>
<option value="DeletePage" disabled="" class="disabled">Delete Page</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="MyPages">My Pages</option>
<option value="show" disabled="" class="disabled">Subscribe User</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="show" disabled="" class="disabled">Remove Spam</option>
<option value="show" disabled="" class="disabled">Revert to this revision</option>
<option value="PackagePages">Package Pages</option>
<option value="SyncPages">Sync Pages</option>
<option value="show" disabled="" class="disabled">------------------------</option>
<option value="Load">Load</option>
<option value="Save">Save</option>
<option value="SlideShow">SlideShow</option>
    </select>
    
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>



<script id="hiddenlpsubmitdiv" style="display: none;"></script><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; if (typeof(lastpass_f.lpsubmitorig2)=='object'){ continue;}lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); if (d) {for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ if (typeof(d.innerText) != 'undefined') { d.innerText=i.toString(); } else { d.textContent=i.toString(); } } } d.dispatchEvent(customEvent); }form.lpsubmitorig2(); } } }}catch(e){}</script></body></html>